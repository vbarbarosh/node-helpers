const assert = require('assert');
const format_ms3 = require('./format_ms3');

const items = [
    ['', '00:00.000'],
    [null, '00:00.000'],
    [undefined, '00:00.000'],
    [x(0, 0, 0, 0), '00:00.000'],
    [x(0, 0, 0, 1), '00:00.001'],
    [x(0, 0, 0, 900), '00:00.900'],
    [x(0, 0, 1, 0), '00:01.000'],
    [x(0, 0, 1, 500), '00:01.500'],
    [x(0, 0, 2, 0), '00:02.000'],
    [x(0, 0, 5, 445), '00:05.445'],
    [x(0, 1, 0, 0), '01:00.000'],
    [x(0, 12, 0, 0), '12:00.000'],
    [x(0, 12, 12, 12), '12:12.012'],
    [x(1, 0, 0, 0), '01:00:00.000'],
    [x(1, 1, 0, 0), '01:01:00.000'],
    [x(1, 1, 1, 0), '01:01:01.000'],
    [x(1, 1, 1, 1), '01:01:01.001'],
    [x(12, 12, 12, 12), '12:12:12.012'],
    [x(999, 0, 0, 0), '999:00:00.000'],
];

describe('format_ms3', function () {
    items.forEach(function ([input, expected]) {
        it(`${input} â†’ ${expected}`, function () {
            assert.strictEqual(format_ms3(input), expected);
        });
    });
});

function x(h, m, s, ms)
{
    return h*3600000 + m*60000 + s*1000 + ms;
}
